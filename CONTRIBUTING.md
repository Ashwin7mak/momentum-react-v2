# Contributing

##### Below are the guidelines to follow.

## Table of Contents

- [Requirements](#requirements)
- [Running the project locally](#running)
- [Adding a new component](#component)
- [Testing](#testing)
- [Code Guidelines](#rules)

## <a name="running"></a> Running the project locally

* Run the start script which will build and watch the library, then serve it at localhost:4400
  * `yarn start` from the root
* You can access the playground `localhost:4400/playground`

## <a name="component"></a> Adding a new component

1. For a new component, create a directory in the "src/lib/" directory: `src/lib/<ComponentName>/`
2. Add a component file for your component: `<ComponentName>/index.js`
3. Add a "tests" directory and file for the snapshot tests: `/tests/index.spec.js`
4. Add an "examples" directory and file for the documentation: `/examples/<componentName>-default.html`

### Your components directory should look like this:
``` bash
└── src
    └── lib
        └── <Component>                     # component directory
            ├── index.js                    # component file
            ├── examples                    # examples directory
            |   └── <Component>Default.js   # default example component
            └── tests                       # tests directory
                ├── index.spec.js           # component unit test
                └── __snapshots__           # snapshots directory (will be generated Jest)
                    └── index.spec.js.snap  # snapshots file (will be generated by Jest)
```


## <a name="testing"></a> Testing

All UI components of `momentum-react-v2` are unit-tested using two approaches:

1. [Jest](http://facebook.github.io/jest/) (Typically for snapshot testing)
    * Jest is a JavaScript test runner maintained and recommended by Facebook. Jest is a batteries included unit testing framework and few of its benefits includes `being fast`, `feature rich`, and `integrates perfectly with Babel`. Jest provide `Painless JavaScript Testing`.
    * Snapshot tests are a very useful tool whenever you want to make sure your UI does not change unexpectedly.
    * A typical snapshot test case for a web app renders a UI component, takes a screenshot, then compares it to a reference image stored alongside the test. The test will fail if the two images do not match: either the change is unexpected, or the screenshot needs to be updated to the new version of the UI component.
    * Snapshot testing covers most cases of Unit testing.
2. [Enzyme](http://airbnb.io/enzyme/) (Typically for Functional/DOM testing)
    * Enzyme's API is meant to be intuitive and flexible by mimicking jQuery's API for DOM manipulation and traversal.
    * Enzyme works well for functionality testing with shallow rendering of components.
    * It features jQuery like API for quick DOM traversal.
    * Use it when a runtime feature is to be tested that cannot be covered using snapshot testing, for example: Click behavior on a component.
    * All properties used in components are invariably tested using inbuilt `React PropTypes`.


## <a name="documentation"></a> Documentation

  * The document site related to component usage/example is documented using components within the examples directory in each component directory.

  * Any change/creation of additional components should include modified example file.

## <a name="design"></a> Design Principles

### Components

  * `Momentum React v2` follows **components and their compositions** based architecture with focus on simplicity, flexibility and performance.

  * Only statefull components are implemented as subclass of `React.Component`. Others are simple stateless functions or PureComponents.

  * Source is written is ES6 and processed through babel to generate minified ES6 modules (ready to `import`).

## <a name="rules"></a> Coding Guidelines

* Prefer ES6 classes over prototypes.

```js
class Abc {
  publicmethod() {}
  render() {}
}
```

* Prefer arrow functions =>, over the function keyword except when defining classes or methods.
* Use PascalCase for classes and components, lowerCamelCase for variables and functions, SCREAMING_SNAKE_CASE for constants, \_singleLeadingUnderscore for private variables and functions.
* Prefer template strings over string concatenation.

```js
let name = 'World!';
let concatenatedvalue_correct = \`Hello ${name} everyone!\`; // ✔
let concatenatedvalue_wrong = 'Hello ' + name + ' everyone'; // ✕
```

* Prefer promises over callbacks.
* Prefer array functions like map and forEach over for loops.
* Use const for declaring variables that will never be re-assigned, and let otherwise.
* Avoid var to declare variables.
* Use lowercase names for folder names and PascalCase for component folder names.

Please follow the coding style of the current code base. Momentum UI React uses [eslint](http://eslint.org/) for ES6/JS and [stylelint](https://stylelint.io/) for scss/css, so if possible, enable linting in your editor to get realtime feedback. The linting rules can be run manually as below

```js
yarn run lint
```

### Tasks

  All tasks are made available as `npm` or `yarn` scripts without any bloat that comes with usual task runners (like `grunt`, `gulp`, etc).

### Utils

  * There are few shared utility that are kept aside as `helpers` under 'src' but outside `components` folder.

## License

By contributing your code to the `momentum-react-v2` GitHub repository, you agree to license your contribution under the MIT license.
